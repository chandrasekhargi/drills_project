{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cherry\\\\mern-drills-app\\\\client\\\\src\\\\pages\\\\Drill.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Drill() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [drill, setDrill] = useState(null);\n  const [answers, setAnswers] = useState([]);\n  useEffect(() => {\n    axios.get((process.env.REACT_APP_API_URL || 'http://localhost:5000') + '/api/drills').then(r => {\n      const found = r.data.find(x => x._id === id);\n      setDrill(found);\n      setAnswers(found ? Array(found.questions.length).fill('') : []);\n    }).catch(() => {});\n  }, [id]);\n  if (!drill) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2,\n    columnNumber: 530\n  }, this);\n  const submit = async () => {\n    const score = answers.reduce((s, a) => s + (a.trim() ? 1 : 0), 0);\n    await axios.post((process.env.REACT_APP_API_URL || 'http://localhost:5000') + '/api/attempts', {\n      user: {\n        id: 'guest',\n        displayName: 'Guest'\n      },\n      drillId: drill._id,\n      answers,\n      score\n    });\n    alert('Submitted. Score: ' + score);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: drill.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2,\n      columnNumber: 847\n    }, this), drill.questions.map((q, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [i + 1, \". \", q]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2,\n        columnNumber: 911\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: answers[i] || '',\n        onChange: e => {\n          const c = [...answers];\n          c[i] = e.target.value;\n          setAnswers(c);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2,\n        columnNumber: 928\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2,\n      columnNumber: 898\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2,\n      columnNumber: 1042\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2,\n    columnNumber: 842\n  }, this);\n}\n_s(Drill, \"CCzP6TrykL0DPqpe4Efj8LStAR0=\", false, function () {\n  return [useParams];\n});\n_c = Drill;\nvar _c;\n$RefreshReg$(_c, \"Drill\");","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","jsxDEV","_jsxDEV","Drill","_s","id","drill","setDrill","answers","setAnswers","get","process","env","REACT_APP_API_URL","then","r","found","data","find","x","_id","Array","questions","length","fill","catch","children","fileName","_jsxFileName","lineNumber","columnNumber","submit","score","reduce","s","a","trim","post","user","displayName","drillId","alert","title","map","q","i","value","onChange","e","c","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/cherry/mern-drills-app/client/src/pages/Drill.js"],"sourcesContent":["\r\nimport React,{useEffect,useState} from 'react'; import axios from 'axios'; import { useParams } from 'react-router-dom'; export default function Drill(){ const {id}=useParams(); const [drill,setDrill]=useState(null); const [answers,setAnswers]=useState([]); useEffect(()=>{ axios.get((process.env.REACT_APP_API_URL||'http://localhost:5000')+'/api/drills').then(r=>{ const found=r.data.find(x=>x._id===id); setDrill(found); setAnswers(found?Array(found.questions.length).fill(''):[]); }).catch(()=>{}); },[id]); if(!drill) return <div>Loading...</div>; const submit=async()=>{ const score=answers.reduce((s,a)=>s+(a.trim()?1:0),0); await axios.post((process.env.REACT_APP_API_URL||'http://localhost:5000')+'/api/attempts',{user:{id:'guest',displayName:'Guest'},drillId:drill._id,answers,score}); alert('Submitted. Score: '+score); }; return (<div><h2>{drill.title}</h2>{drill.questions.map((q,i)=>(<div key={i}><p>{i+1}. {q}</p><input value={answers[i]||''} onChange={e=>{const c=[...answers]; c[i]=e.target.value; setAnswers(c);}}/></div>))}<button onClick={submit}>Submit</button></div>); }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}